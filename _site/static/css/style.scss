$font: Verdana, sans-serif;

$blue:  #7F8EBC;
$black: #555;

$containerWidth: 800px;
$mobileWidth:    600px;

$boxPadding: 0 3em;

$fontSize:   14px;
$lineHeight: 1.5 * $fontSize; // 21px

$navigationSize:         12px;
$nameH1Size:             42px;
$nameHeaderSize:         28px;
$footerSize:             12px;

$mediaQueryiPhoneLarge: "(min-device-width: 320px) and (max-device-width: 568px)";
$mediaQueryiPhoneSmall: "(min-device-width: 320px) and (max-device-width: 480px)";
$mediaQueryiPad:        "(min-device-width: 768px) and (max-device-width: 1024px)";

@mixin getFontSize($size)   {
    font-size: $size/$fontSize * 1em;
    @if $size <= 12 { color: #000; }
}
@mixin getMarginTop($size)  { margin-top: $lineHeight/$size * 1em; }
@mixin getLineHeight($size) { line-height: $lineHeight/$size * 1em; }
@mixin getVerticalRhythm($size) {
    @include getFontSize($size);
    @include getMarginTop($size);
    @include getLineHeight($size);
}

@mixin box-sizing() {
/**
    http://css-tricks.com/box-sizing/

    Chrome (any)
    Opera 8.5+
    Firefox (any)
    Safari 3
    IE8+
*/
    -webkit-box-sizing: border-box;
       -moz-box-sizing: border-box;
            box-sizing: border-box;
}

@mixin center() {
    text-align: center;
    margin-left: auto;
    margin-right: auto;
}

@mixin clearfix() {
    &:after {
        content: ".";
        display: block;
        height: 0;
        clear: both;
        visibility: hidden;
    }
}

@mixin padding-fix() {
    /** Margin and padding reset in WebKit */
    -webkit-margin-before: 0;
    -webkit-margin-after: 0;
    -webkit-padding-start: 0;
    padding: 0;
    //! Still doesn't work in Firefox,
    //  but at least it doesn't have a popular mobile OS
}

body {
    font: #{$fontSize}/#{$lineHeight} $font;
    color: $black;
}

a {
    text-decoration: none;
    color: $black;

    &:visited {
        color: black;
    }
}

p a {
    text-decoration: underline;
}

mark {
    padding: 0 3px;
    background-color: #FFA;
}

#container {
    width: $containerWidth;
    margin: 0 auto;
}

.row {
    width: 100%;
    float: left;
    clear: both;
    @include clearfix;
}
.column {}
.box {
    padding: $boxPadding;
    float: left;
    @include clearfix;
    @include box-sizing;
    display: inline-block;
}

#site-navigation {
    @include getFontSize($navigationSize);
    font-weight: bold;
    text-align: right;
    margin-top: 0 !important; //!
    @include padding-fix;

    &.box {
        width: 100%;
        padding: .5em 2em;
    }

    li {
        display: inline-block;

        a {
            display: inline-block;
            padding: 0 1em;
            text-transform: uppercase;
            color: $black;

            &:visited {
                color: $black;
            }
        }
    }
}

#name {
    .box {
        padding-left: 5em;
        width: 80%;

    }

    h1 {
        @include getVerticalRhythm($nameH1Size);
        line-height: 1em;
    }

    #header {
        @include getVerticalRhythm($nameHeaderSize);
        line-height: 1.25em;
    }
}

#intro {
    .box {
        width: 100%;
        padding: 0;

        .embed-container {
            position: relative;
            padding-bottom: 56.25%; /** 16:9 */
            padding-top: 30px;
            height: 0;
            overflow: hidden;
            max-width: 100%;
            height: auto;

            iframe,
            object,
            embed {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }
        }
    }
}

#company-info {
    &.box {
        width: 100%;
    }

    h2 {
        color: $blue;

}

#footer {
    @include getFontSize($footerSize);
    @include center;
    width: 100%;

    a {
        font-weight: bold;
        color: $blue;
    }
}

#content {
    width: 100%; // 80%
    float: left;

    #header {  //!
        @include getVerticalRhythm($PageHeaderSize);
    }

    h1 {
        @include getVerticalRhythm($pageH1Size);
    }

    a {
        color: $blue;
        font-weight: bold;
    }
}

@mixin iphone-mq() {}

// Responsive
@media only screen {
    @media (max-device-width: $mobileWidth) {
        body {
            // if device-width <= 600px:
            //     $fontSize = 10px;
            font-size: 10px; line-height: 15px; //!
        }

        #container {
            width: 100%;
            //! Some whitespace to the right
        }

        .box {
            padding: 0 1.5em;
        }

        #site-navigation.box {
            @include getFontSize(10px);
            margin-top: 0 !important; //!
            margin-bottom: 0 !important;  //!
            text-align: center;

            li a {
                padding: 0 .75em;
            }
        }

        #name {
            background-color: #F8F8F8;

            h1 {
                @include getVerticalRhythm(21px);
            }

            #header {
                @include getVerticalRhythm(14px);
            }
        }

        #company-info.box {
            width: 100%;
            float: left;
            clear: both;
        }

        #content {
            width: 100%;
            float: left;
            clear: both;
        }
    }

    // iPhone 5+
    @media #{$mediaQueryiPhoneLarge} {
        @include iphone-mq;
    }

    // iPhone <5
    @media #{$mediaQueryiPhoneSmall} {
        @include iphone-mq;
    }

    // iPad
    @media #{$mediaQueryiPad} {
        #site-navigation {
            @include getFontSize(10px);

            a {
                font-weight: bold;
            }
        }

        #name {
            background-color: #F8F8F8;

            h1 {
                @include getVerticalRhythm(21px);
            }

            #header {
                @include getVerticalRhythm(14px);
            }
        }
    }
}
